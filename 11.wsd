@startuml

start
:Initialize need, allocation, available;
:Initialize numberOfProcesses, numberOfResources;
while (true) is (found)
  :Set found to false;
  repeat
    :Iterate over processes;
    if (process not finished and canFinish)
    then (yes)
      :Set found to true;
      :Mark process as finished;
      :Update work;
    endif
  repeat while (found is true)
endwhile (found is false)
:Check if all processes finished?;
if (all processes finished)
then (yes)
  :State is safe;
else (no)
  :State is unsafe;
endif
stop

@enduml
