# 依赖倒置原则

· **依赖倒置原则是面向对象设计原则中的一种，其核心思想是要求高层模块不应该依赖于底层模块，二者都应该依赖于抽象。抽象不应该依赖于具体实现细节，具体实现细节应该依赖于抽象**。  
  
· **这个原则的实质是通过抽象化的方式，减少模块之间的耦合性，从而提高系统的稳定性、灵活性和可扩展性。在实际编码中，可以通过使用接口、抽象类等方式来实现依赖倒置原则。**  

· **依赖倒置原则的好处在于，它能够使得高层模块的改动不会对底层模块造成太大的影响，从而提高代码的可维护性和可测试性。同时，它也能够促进代码的复用和扩展，提高代码的重用性。**  


### *假设我们要设计一个简单的在线支付系统，该系统需要与不同的支付接口进行集成，如支付宝、微信支付等。我们可以使用依赖倒置原则来实现这个系统。*  

· `UML图`
``` 
+--------------+               +-----------------------+
|  OnlinePay   |               | PaymentInterface      |
+--------------+               +-----------------------+
|  - payment   |<>-------------| +pay()                |
+--------------+               +-----------------------+
        ^                                    ^
        |                                    |
+--------------+               +-----------------------+
|  AliPay       |               | WechatPay             |
+--------------+               +-----------------------+
|  +pay()      |               | +pay()                |
+--------------+               +-----------------------+
```

```
    在这个类图中，OnlinePay 表示在线支付系统，它依赖于 PaymentInterface 接口，而不是具体的支付接口实现。具体的支付接口实现是 AliPay 和 WechatPay，它们都实现了 PaymentInterface 接口中的 pay() 方法。
```

```  
    结束

    OnlinePay 类通过依赖 PaymentInterface 接口来实现与不同的支付接口进行集成。当需要添加新的支付接口时，只需要实现 PaymentInterface 接口即可，而无需修改 OnlinePay 类的代码。这样可以有效地降低代码的耦合性，提高系统的灵活性和可扩展性。
```